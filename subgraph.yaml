specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: InstaAutomation
    network: matic
    source:
      abi: InstaAutomation
      address: "0x3cF499Dbd2aBB6505f48Db27a9871523A38e6e2C"
      startBlock: 31471200
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      abis:
        - name: InstaAutomation
          file: ./abis/InstaAutomation.json
      entities:
        - Account
        - SubmitData
        - ExecuteData
        - ExecuteMetaData
        - CancelData
        - SystemCancelData
        - Executors
        - Spell
        - Swap
        - ExceutionParams
      eventHandlers:
        - event: LogCancelledAutomation(indexed address,indexed uint32,indexed uint32)
          handler: handleLogCancelAutomation
        - event: LogSubmittedAutomation(indexed address,indexed uint32,uint128,uint128,uint128)
          handler: handleLogSubmitAutomation
        - event: LogExecutedAutomationParams(indexed address,indexed uint32,indexed uint32,uint128,uint128,uint16,(address,address,uint256,uint256,uint256,(address,address,uint256,uint256,bytes),uint256,uint256),(string[],bytes[]))
          handler: handleLogExecuteAutomation
        - event: LogExecutedAutomation(indexed address,indexed uint32,indexed uint32,bool,bytes)
          handler: handleLogExecuteAutomationMetadata
        - event: LogSystemCancelledAutomation(indexed address,indexed uint32,indexed uint32,uint8)
          handler: handleSystemCancelledAutomation
        - event: LogFlippedExecutors(address[],bool[])
          handler: handleExecutors
      file: ./src/insta-automation.ts
# templates:
#   - kind: ethereum/contract
#     name: InstaAutomation
#     network: matic
#     source:
#       abi: InstaAutomation
#     mapping:
#       kind: ethereum/events
#       apiVersion: 0.0.5
#       language: wasm/assemblyscript
#       entities:
#         - Account
#         - SubmitData
#         - ExecuteData
#         - ExecuteMetaData
#         - CancelData
#         - SystemCancelData
#       abis:
#         - name: InstaAutomation
#           file: ./abis/InstaAutomation.json
#       eventHandlers:
#         - event: LogCancelledAutomation(indexed address,indexed uint32,indexed uint32)
#           handler: handleLogCancelAutomation
#         - event: LogSubmittedAutomation(indexed address,indexed uint32,uint128,uint128,uint128)
#           handler: handleLogSubmitAutomation
#         - event: LogExecutedAutomationParams(indexed address,indexed uint32,indexed uint32,uint128,uint128,uint16,(address,address,uint256,uint256,uint256,(address,address,uint256,uint256,bytes),uint256,uint256),(string[],bytes[]))
#           handler: handleLogExecuteAutomation
#         - event: LogExecutedAutomation(indexed address,indexed uint32,indexed uint32,bool,bytes)
#           handler: handleLogExecuteAutomationMetadata
#         - event: LogSystemCancelledAutomation(indexed address,indexed uint32,indexed uint32,uint8)
#           handler: handleSystemCancelledAutomation
#         - event: LogFlippedExecutors(address[],bool[])
#           handler: handleExecutors
#       file: ./src/insta-automation.ts
